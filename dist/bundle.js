(()=>{"use strict";var e={281:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=e=>{e.value&&(e.select(),document.execCommand("copy"),alert("コピーしました"))}},819:function(e,t){var n=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(i,r){function c(e){try{u(o.next(e))}catch(e){r(e)}}function a(e){try{u(o.throw(e))}catch(e){r(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(c,a)}u((o=o.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.lock=t.check=t.get_pass=t.generate=void 0,t.generate=(e,t)=>n(void 0,void 0,void 0,(function*(){const n=yield fetch(e,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t),mode:"cors"});return(yield n.json()).access_url})),t.get_pass=()=>n(void 0,void 0,void 0,(function*(){const e=yield fetch("https://static-void.herokuapp.com/pass",{method:"POST",headers:{"Content-Type":"application/json"},mode:"cors",body:JSON.stringify({text:"ぴやっほゃ"})});return(yield e.json()).pass})),t.check=()=>n(void 0,void 0,void 0,(function*(){const e=yield fetch("https://static-void.herokuapp.com/check");return(yield e.json()).boo})),t.lock=()=>{fetch("https://static-void.herokuapp.com/lock",{method:"POST",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify({text:"fucker"})})}},607:function(e,t,n){var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=o(n(136)),r=o(n(341)),c=o(n(281)),a=document.getElementById("name"),u=document.getElementById("original"),l=document.getElementById("code"),d=document.getElementById("btn"),s=document.getElementById("area"),f=document.getElementById("geo"),m=document.getElementById("copy"),p=document.getElementById("hoge"),h=document.querySelector("body"),v=new URL(location.href).searchParams.get("userId")||null,g={btn:d,hoge:p,Name:a,original:u,pass:l,geo:f,area:s,userId:v};window.addEventListener("load",(()=>(0,i.default)(v,h))),d.addEventListener("click",(()=>(0,r.default)(g))),m.addEventListener("click",(()=>(0,c.default)(s)))},341:function(e,t,n){var o=this&&this.__createBinding||(Object.create?function(e,t,n,o){void 0===o&&(o=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,o,i)}:function(e,t,n,o){void 0===o&&(o=n),e[o]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&o(t,e,n);return i(t,e),t},c=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(i,r){function c(e){try{u(o.next(e))}catch(e){r(e)}}function a(e){try{u(o.throw(e))}catch(e){r(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(c,a)}u((o=o.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const a=r(n(819));t.default=e=>c(void 0,void 0,void 0,(function*(){const t=Object.keys(e).map((t=>e[t])),[n,o,i,r,c,l,d,s]=t;n.disabled=!0,o.innerHTML="確認中です...";const f=(yield u(i.value,r.value,Number(c.value)))||null;if(f){alert(f),n.disabled=!1,o.innerHTML="";const e=yield a.get_pass();return void(e!==Number(c.value)&&400!==e&&(localStorage.setItem("num",String(Number(localStorage.getItem("num"))+1)),Number(localStorage.getItem("num"))>=10&&(localStorage.setItem("lock","true"),a.lock())))}if(!confirm(`以下の内容でURLを発行します。\n\n名前: ${i.value}\n元のURL: ${r.value}\n位置情報: ${l.checked?"ON":"OFF"}`))return n.disabled=!1,void(o.innerHTML="");o.innerHTML="URLを発行しています...";const m="https://static-void.herokuapp.com/generated?userId="+s+"&geo="+String(l.checked),p={name:i.value,url:r.value},h=yield a.generate(m,p);d.innerHTML=h;const v=h.match(/static/)?"\n※短縮URLのリクエスト上限に達した為、発行したURLを短縮できませんでした":"";alert("成功！"+v),localStorage.setItem("num","0"),n.disabled=!1,o.innerHTML="",i.value="",r.value="",c.value="",l.checked=!1}));const u=(e,t,n)=>c(void 0,void 0,void 0,(function*(){const o=e&&t&&n?t.match(/(http[s]?|ftp):\/\/[^\/\.]+?\..+\w$/i)?"true"===localStorage.getItem("lock")?"試行回数が上限に達したため、30分間再試行ができません":"":"不正なURLです":"未入力の必須項目があります";if(o)return o;{const e=yield a.get_pass();return 400===e?"認証コードが発行されていません":e!==n&&Number(localStorage.getItem("num"))>=10?"試行回数が上限に達しました。30分間は再試行ができません":e!==n&&Number(localStorage.getItem("num"))<=9?"無効な認証コードです":""}}))},136:function(e,t,n){var o=this&&this.__createBinding||(Object.create?function(e,t,n,o){void 0===o&&(o=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,o,i)}:function(e,t,n,o){void 0===o&&(o=n),e[o]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&o(t,e,n);return i(t,e),t},c=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(i,r){function c(e){try{u(o.next(e))}catch(e){r(e)}}function a(e){try{u(o.throw(e))}catch(e){r(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(c,a)}u((o=o.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const a=r(n(819));t.default=(e,t)=>c(void 0,void 0,void 0,(function*(){if(navigator.userAgent.match(/iPhone|Android.+Mobile/))if(e&&e.match(/[0-9a-f]{32}/))"true"===localStorage.getItem("lock")&&((yield a.check())||(localStorage.setItem("lock","false"),localStorage.setItem("num","6")));else{t.innerHTML="";const e=document.createElement("h1"),n=document.createElement("p");e.id="moh",n.id="mop",e.innerHTML="ERROR",n.innerHTML="このサイトはLINE Botから送信されるURL以外からのアクセスを許可していません。",t.appendChild(e).appendChild(n)}else{t.innerHTML="";const e=document.createElement("h1"),n=document.createElement("p");e.id="pc",n.id="pc",e.innerHTML="ERROR",n.innerHTML="このサイトはPCからのアクセスを許可していません。",t.appendChild(e).appendChild(n)}}))}},t={};!function n(o){var i=t[o];if(void 0!==i)return i.exports;var r=t[o]={exports:{}};return e[o].call(r.exports,r,r.exports,n),r.exports}(607)})();