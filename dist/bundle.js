(()=>{"use strict";var e={281:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=e=>{e.value&&(e.select(),document.execCommand("copy"),alert("コピーしました"))}},276:function(e,t){var n=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(c,i){function a(e){try{u(o.next(e))}catch(e){i(e)}}function r(e){try{u(o.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?c(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,r)}u((o=o.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.check=t.post=void 0,t.post=(e,t)=>n(void 0,void 0,void 0,(function*(){const n=yield fetch(e,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t),mode:"cors"}),o=(yield n.json())||null;if(o)return o})),t.check=()=>n(void 0,void 0,void 0,(function*(){const e=yield fetch("https://static-void.herokuapp.com/check");return(yield e.json()).boo}))},607:function(e,t,n){var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const c=o(n(136)),i=o(n(341)),a=o(n(281)),r=document.getElementById("name"),u=document.getElementById("original"),l=document.getElementById("code"),d=document.getElementById("btn"),s=document.getElementById("area"),m=document.getElementById("geo"),f=document.getElementById("copy"),p=document.getElementById("hoge"),v=document.querySelector("body"),h=new URL(location.href).searchParams.get("userId")||null;window.addEventListener("load",(()=>(0,c.default)(h,v))),d.addEventListener("click",(()=>(0,i.default)(d,p,r,u,l,m,s,h))),f.addEventListener("click",(()=>(0,a.default)(s)))},341:function(e,t,n){var o=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(c,i){function a(e){try{u(o.next(e))}catch(e){i(e)}}function r(e){try{u(o.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?c(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,r)}u((o=o.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const c=n(276);t.default=(...e)=>o(void 0,void 0,void 0,(function*(){const[t,n,o,a,r,u,l,d]=e;t.disabled=!0,n.innerHTML="確認中です...";const s=yield i(o.value,a.value,Number(r.value));if(s){alert(s),t.disabled=!1,n.innerHTML="";const e="https://static-void.herokuapp.com/pass",o={text:"ぴやっほゃ"},i=(yield(0,c.post)(e,o)).pass;if(i!==Number(r.value)&&400!==i&&(localStorage.setItem("num",String(Number(localStorage.getItem("num"))+1)),Number(localStorage.getItem("num"))>=10)){localStorage.setItem("lock","true");const e="https://static-void.herokuapp.com/lock",t={text:"fucker"};(0,c.post)(e,t)}return}if(!confirm(`以下の内容でURLを発行します。\n\n名前: ${o.value}\n元のURL: ${a.value}\n位置情報: ${u.checked?"ON":"OFF"}`))return t.disabled=!1,void(n.innerHTML="");n.innerHTML="URLを発行しています...";const m="https://static-void.herokuapp.com/generated?userId="+d+"&geo="+String(u.checked),f={name:o.value,url:a.value},p=(yield(0,c.post)(m,f)).access_url;l.innerHTML=p;const v=p.match(/static/)?"\n※短縮URLのリクエスト上限に達した為、発行したURLを短縮できませんでした":"";alert("成功！"+v),localStorage.setItem("num","0"),t.disabled=!1,n.innerHTML="",o.value="",a.value="",r.value="",u.checked=!1}));const i=(e,t,n)=>o(void 0,void 0,void 0,(function*(){const o=e&&t&&n?/(http[s]?|ftp):\/\/[^\/\.]+?\..+\w$/i.test(t)?"true"===localStorage.getItem("lock")?"試行回数が上限に達したため、30分間再試行ができません":"":"不正なURLです":"未入力の必須項目があります";if(o)return o;{const e="https://static-void.herokuapp.com/pass",t={text:"ぴやっほゃ"},o=(yield(0,c.post)(e,t)).pass;return 400===o?"認証コードが発行されていません":o!==n&&Number(localStorage.getItem("num"))>=10?"試行回数が上限に達しました。30分間は再試行ができません":o!==n&&Number(localStorage.getItem("num"))<=9?"無効な認証コードです":""}}))},136:function(e,t,n){var o=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(c,i){function a(e){try{u(o.next(e))}catch(e){i(e)}}function r(e){try{u(o.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?c(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,r)}u((o=o.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const c=n(276);t.default=(e,t)=>o(void 0,void 0,void 0,(function*(){if(/iPhone|Android.+Mobile/.test(navigator.userAgent))if(/[0-9a-f]{32}/.test(e))"true"===localStorage.getItem("lock")&&((yield(0,c.check)())||(localStorage.setItem("lock","false"),localStorage.setItem("num","6")));else{t.innerHTML="";const e=document.createElement("h1"),n=document.createElement("p");e.id="moh",n.id="mop",e.innerHTML="ERROR",n.innerHTML="当サイトはこのURLでアクセスすることを許可しておりません。",t.appendChild(e).appendChild(n)}else{t.innerHTML="";const e=document.createElement("h1"),n=document.createElement("p");e.id="pc",n.id="pc",e.innerHTML="ERROR",n.innerHTML="当サイトはPCからのアクセスを許可しておりません。",t.appendChild(e).appendChild(n)}}))}},t={};!function n(o){var c=t[o];if(void 0!==c)return c.exports;var i=t[o]={exports:{}};return e[o].call(i.exports,i,i.exports,n),i.exports}(607)})();