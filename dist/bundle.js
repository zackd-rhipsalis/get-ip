(()=>{"use strict";var e={281:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){e.value&&(e.select(),document.execCommand("copy"),alert("コピーしました"),e.blur())}},276:function(e,t){var n=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,a){function u(e){try{i(r.next(e))}catch(e){a(e)}}function c(e){try{i(r.throw(e))}catch(e){a(e)}}function i(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(u,c)}i((r=r.apply(e,t||[])).next())}))},r=this&&this.__generator||function(e,t){var n,r,o,a,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(a){return function(c){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;u;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return u.label++,{value:a[1],done:!1};case 5:u.label++,r=a[1],a=[0];continue;case 7:a=u.ops.pop(),u.trys.pop();continue;default:if(!((o=(o=u.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){u=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){u.label=a[1];break}if(6===a[0]&&u.label<o[1]){u.label=o[1],o=a;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(a);break}o[2]&&u.ops.pop(),u.trys.pop();continue}a=t.call(e,u)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}};Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){this.url=e,this.body=t}return e.prototype.post=function(){return n(this,void 0,void 0,(function(){var e;return r(this,(function(t){switch(t.label){case 0:return[4,fetch(this.url,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(this.body),mode:"cors"})];case 1:return[4,t.sent().json()];case 2:return(e=t.sent())?[2,e]:[2]}}))}))},e.check=function(){return n(this,void 0,void 0,(function(){return r(this,(function(e){switch(e.label){case 0:return[4,fetch("https://static-void.herokuapp.com/check")];case 1:return[4,e.sent().json()];case 2:return[2,e.sent().boo]}}))}))},e}();t.default=o},607:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(136)),a=r(n(341)),u=r(n(281)),c=document.getElementById("name"),i=document.getElementById("original"),l=document.getElementById("copy"),s=document.getElementById("code"),f=document.getElementById("area"),d=document.getElementById("geo"),h=document.getElementById("btn"),p=document.getElementById("hoge"),v=document.querySelector("body"),m=new URL(location.href).searchParams.get("userId");window.addEventListener("load",(function(){return(0,o.default)(m,v)})),h.addEventListener("click",(function(){return(0,a.default)(h,p,c,i,s,d,f,m)})),l.addEventListener("click",(function(){return(0,u.default)(f)}))},341:function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,a){function u(e){try{i(r.next(e))}catch(e){a(e)}}function c(e){try{i(r.throw(e))}catch(e){a(e)}}function i(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(u,c)}i((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,o,a,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(a){return function(c){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;u;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return u.label++,{value:a[1],done:!1};case 5:u.label++,r=a[1],a=[0];continue;case 7:a=u.ops.pop(),u.trys.pop();continue;default:if(!((o=(o=u.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){u=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){u.label=a[1];break}if(6===a[0]&&u.label<o[1]){u.label=o[1],o=a;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(a);break}o[2]&&u.ops.pop(),u.trys.pop();continue}a=t.call(e,u)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var u=a(n(276));t.default=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return r(void 0,void 0,void 0,(function(){var t,n,r,a,i,l,s,f,d,h,p,v,m,b,y,g;return o(this,(function(o){switch(o.label){case 0:return t=e[0],n=e[1],r=e[2],a=e[3],i=e[4],l=e[5],s=e[6],f=e[7],t.disabled=!0,n.innerHTML="確認中です...",[4,c(r.value,a.value,Number(i.value))];case 1:return(d=o.sent())?(alert(d),t.disabled=!1,n.innerHTML="",h={text:"ぴやっほゃ"},[4,new u.default("https://static-void.herokuapp.com/pass",h).post()]):[3,3];case 2:return(p=o.sent().pass)!==Number(i.value)&&400!==p&&(localStorage.setItem("num",String(Number(localStorage.getItem("num"))+1)),Number(localStorage.getItem("num"))>=10&&(localStorage.setItem("lock","true"),v={text:"fucker"},new u.default("https://static-void.herokuapp.com/lock",v).post())),[2];case 3:return confirm("以下の内容でURLを発行します。\n\n名前: ".concat(r.value,"\n元のURL: ").concat(a.value,"\n位置情報: ").concat(l.checked?"ON":"OFF"))?(n.innerHTML="URLを発行しています...",m="https://static-void.herokuapp.com/generated?userId=".concat(f,"&geo=").concat(l.checked),b={name:r.value,url:a.value},[4,new u.default(m,b).post()]):(t.disabled=!1,n.innerHTML="",[2]);case 4:return y=o.sent().access_url,s.innerHTML=y,g=y.match(/static/)?"\n※短縮URLのリクエスト上限に達した為、発行したURLを短縮できませんでした":"",alert("成功！"+g),localStorage.setItem("num","0"),t.disabled=!1,n.innerHTML="",r.value="",a.value="",i.value="",l.checked=!1,[2]}}))}))};var c=function(e,t,n){return r(void 0,void 0,void 0,(function(){var r,a,c;return o(this,(function(o){switch(o.label){case 0:return(r=e&&t&&n?/(http[s]?|ftp):\/\/[^\/\.]+?\..+\w$/i.test(t)?"true"===localStorage.getItem("lock")?"試行回数が上限に達したため、30分間再試行ができません":"":"不正なURLです":"未入力の必須項目があります")?[2,r]:[3,1];case 1:return a={text:"ぴやっほゃ"},[4,new u.default("https://static-void.herokuapp.com/pass",a).post()];case 2:return[2,400===(c=o.sent().pass)?"認証コードが発行されていません":c!==n&&Number(localStorage.getItem("num"))>=10?"試行回数が上限に達しました。30分間は再試行ができません":c!==n&&Number(localStorage.getItem("num"))<=9?"無効な認証コードです":""]}}))}))}},136:function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,a){function u(e){try{i(r.next(e))}catch(e){a(e)}}function c(e){try{i(r.throw(e))}catch(e){a(e)}}function i(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(u,c)}i((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,o,a,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(a){return function(c){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;u;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return u.label++,{value:a[1],done:!1};case 5:u.label++,r=a[1],a=[0];continue;case 7:a=u.ops.pop(),u.trys.pop();continue;default:if(!((o=(o=u.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){u=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){u.label=a[1];break}if(6===a[0]&&u.label<o[1]){u.label=o[1],o=a;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(a);break}o[2]&&u.ops.pop(),u.trys.pop();continue}a=t.call(e,u)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var u=a(n(276));t.default=function(e,t){return r(void 0,void 0,void 0,(function(){var n,r;return o(this,(function(o){switch(o.label){case 0:return/iPhone|Android.+Mobile/.test(navigator.userAgent)?[3,1]:(t.innerHTML="",n=document.createElement("h1"),r=document.createElement("p"),n.id="pc",r.id="pc",n.innerHTML="ERROR",r.innerHTML="当サイトはPCからのアクセスを許可しておりません。",t.appendChild(n).appendChild(r),[3,4]);case 1:return/[0-9a-f]{32}/.test(e)?[3,2]:(t.innerHTML="",n=document.createElement("h1"),r=document.createElement("p"),n.id="moh",r.id="mop",n.innerHTML="ERROR",r.innerHTML="当サイトはこのURLでアクセスすることを許可しておりません。",t.appendChild(n).appendChild(r),[3,4]);case 2:return"true"!==localStorage.getItem("lock")?[3,4]:[4,u.default.check()];case 3:o.sent()||(localStorage.setItem("lock","false"),localStorage.setItem("num","6")),o.label=4;case 4:return[2]}}))}))}}},t={};!function n(r){var o=t[r];if(void 0!==o)return o.exports;var a=t[r]={exports:{}};return e[r].call(a.exports,a,a.exports,n),a.exports}(607)})();