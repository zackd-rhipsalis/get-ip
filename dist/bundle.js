(()=>{"use strict";var e={940:function(e,t){var n=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(r,i){function a(e){try{u(o.next(e))}catch(e){i(e)}}function c(e){try{u(o.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,c)}u((o=o.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.lock=t.check=t.get_pass=void 0,t.get_pass=function(){return n(this,void 0,void 0,(function*(){const e=yield fetch("https://static-void.herokuapp.com/pass",{method:"POST",headers:{"Content-Type":"application/json"},mode:"cors",body:JSON.stringify({text:"ぴやっほゃ"})});return(yield e.json()).pass}))},t.check=function(){return n(this,void 0,void 0,(function*(){const e=yield fetch("https://static-void.herokuapp.com/check");return(yield e.json()).boo}))},t.lock=function(){fetch("https://static-void.herokuapp.com/lock",{method:"POST",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify({text:"fucker"})})}},281:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){""!==e.value&&(e.select(),document.execCommand("copy"),alert("コピーしました"))}},607:function(e,t,n){var o=this&&this.__createBinding||(Object.create?function(e,t,n,o){void 0===o&&(o=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,o,r)}:function(e,t,n,o){void 0===o&&(o=n),e[o]=t[n]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&o(t,e,n);return r(t,e),t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const c=i(n(940)),u=a(n(136)),l=a(n(341)),d=a(n(281)),s=document.getElementById("name"),f=document.getElementById("original"),h=document.getElementById("code"),p=document.getElementById("btn"),m=document.getElementById("area"),v=document.getElementById("geo"),g=document.getElementById("copy"),y=new URL(location.href).searchParams.get("userId"),b=document.getElementById("hoge"),_=document.querySelector("body"),I={btn:p,hoge:b,Name:s,original:f,pass:h,geo:v,area:m,get_pass:c.get_pass(),lock:c.lock(),userId:y};window.addEventListener("load",(()=>(0,u.default)(y,_,c.check()))),p.addEventListener("click",(()=>(0,l.default)(I))),g.addEventListener("click",(()=>(0,d.default)(m)))},341:function(e,t){var n=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(r,i){function a(e){try{u(o.next(e))}catch(e){i(e)}}function c(e){try{u(o.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,c)}u((o=o.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return n(this,void 0,void 0,(function*(){if(e.btn.disabled=!0,e.hoge.innerHTML="URLを発行しています...",!(e.Name.value&&e.original.value&&e.pass.value))return alert("未入力の項目があります"),e.hoge.innerHTML="",void(e.btn.disabled=!1);if(!e.original.value.match(/(http[s]?|ftp):\/\/[^\/\.]+?\..+\w$/i))return alert("不正なURLです"),e.hoge.innerHTML="",void(e.btn.disabled=!1);if("true"===localStorage.getItem("lock"))return alert("試行回数が上限に達したため、30分間再試行ができません"),e.btn.disabled=!1,void(e.hoge.innerHTML="");if(400===(yield e.get_pass))return alert("認証コードが発行されていません"),e.hoge.innerHTML="",void(e.btn.disabled=!1);if((yield e.get_pass)!==Number(e.pass.value))return localStorage.setItem("num",String(Number(localStorage.getItem("num"))+1)),void(Number(localStorage.getItem("num"))>=10?(localStorage.setItem("lock","true"),e.lock,alert("試行回数が上限に達したため、30分間再試行ができません"),e.btn.disabled=!1,e.hoge.innerHTML=""):(alert("無効な認証コードです"),e.hoge.innerHTML="",e.btn.disabled=!1));const t=!0===e.geo.checked?"https://static-void.herokuapp.com/generated?userId="+e.userId+"&geo=true":"https://static-void.herokuapp.com/generated?userId="+e.userId,n={name:e.Name.value,url:e.original.value},o=yield fetch(t,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n),mode:"cors"}),r=yield o.json();alert("成功！"),localStorage.setItem("num","0"),e.btn.disabled=!1,e.hoge.innerHTML="",e.Name.value="",e.original.value="",e.pass.value="",e.area.innerHTML=r.access_url}))}},136:function(e,t){var n=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(r,i){function a(e){try{u(o.next(e))}catch(e){i(e)}}function c(e){try{u(o.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,c)}u((o=o.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,o){return n(this,void 0,void 0,(function*(){if(e&&e.match(/[0-9a-f]{32}/))"true"===localStorage.getItem("lock")&&((yield o)||(localStorage.setItem("lock","false"),localStorage.setItem("num","6")));else{t.innerHTML="";const e=document.createElement("h1"),n=document.createElement("p");e.innerHTML="ERROR",n.innerHTML="このサイトはLINE Botから送信されるURL以外からのアクセスを許可していません。",t.appendChild(e).appendChild(n)}}))}}},t={};!function n(o){var r=t[o];if(void 0!==r)return r.exports;var i=t[o]={exports:{}};return e[o].call(i.exports,i,i.exports,n),i.exports}(607)})();